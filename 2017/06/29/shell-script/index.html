<!DOCTYPE html><html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="java"><title>shell脚本语言 | CHILAM</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/8.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">shell脚本语言</h1><a id="logo" href="/.">CHILAM</a><p class="description">多读书，多看报，少吃零食，多睡觉</p></div><div id="nav-menu"><a class="current" href="/."><i class="fa fa-home"> Start</i></a><a href="/archives/"><i class="fa fa-archive"> Archiv</i></a><a href="/about/"><i class="fa fa-user"> Über</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">shell脚本语言</h1><div class="post-meta">Jun 29, 2017<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 517</span><span class="post-meta-item-text"> Words</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i><span class="post-count"> 2</span><span class="post-meta-item-text"> Minutes</span></span></span></div><div class="post-content"><h2 id="shell的基本元素"><a href="#shell的基本元素" class="headerlink" title="shell的基本元素"></a>shell的基本元素</h2><h3 id="命令与参数"><a href="#命令与参数" class="headerlink" title="命令与参数"></a>命令与参数</h3><ul>
<li>内建命令</li>
<li>shell函数</li>
<li>外部命令</li>
</ul>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><ul>
<li>shell变量的名称是一个字母或下划线符号，后面可以接任意长度的字母，数字或下划线符号。</li>
<li>变量的赋值的方式为，先写变量名称，紧跟着=符号，最后是新值，中间完全没有任何空格。</li>
<li>当使用变量的时候请加上$符号。</li>
<li>当赋予的值有空格的时候请加上引号。</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9cfts3rjkrsqm8buxyZ shell]<span class="comment"># vi test-variable </span></span><br><span class="line"></span><br><span class="line">name=<span class="string">"张 安"</span></span><br><span class="line">name1=<span class="variable">$name</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$name1</span></span><br></pre></td></tr></table></figure>
<h3 id="简单的echo输出"><a href="#简单的echo输出" class="headerlink" title="简单的echo输出"></a>简单的echo输出</h3><ul>
<li>简单的echo输出，命令与参数之间以空格隔开</li>
</ul>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9cfts3rjkrsqm8buxyZ <span class="keyword">shell</span><span class="bash">]<span class="comment"># echo  echo</span></span></span><br><span class="line"><span class="bash"><span class="built_in">echo</span></span></span><br><span class="line"><span class="bash">[root@iZwz9cfts3rjkrsqm8buxyZ shell]<span class="comment"># echo hello are you </span></span></span><br><span class="line"><span class="bash">hello are you</span></span><br><span class="line"><span class="bash">[root@iZwz9cfts3rjkrsqm8buxyZ shell]<span class="comment"># echo "hello"</span></span></span><br><span class="line"><span class="bash">hello</span></span><br><span class="line"><span class="bash">[root@iZwz9cfts3rjkrsqm8buxyZ shell]<span class="comment"># echo -n 'hi'</span></span></span><br><span class="line"><span class="bash">hi[root@iZwz9cfts3rjkrsqm8buxyZ shell]<span class="comment"># echo -n "hey"</span></span></span><br><span class="line"><span class="bash">hey[root@iZwz9cfts3rjkrsqm8buxyZ shell]<span class="comment">#</span></span></span><br></pre></td></tr></table></figure>
<h3 id="华丽的printf输出"><a href="#华丽的printf输出" class="headerlink" title="华丽的printf输出"></a>华丽的printf输出</h3><ul>
<li>printf必须显示指定的换行，使用\n </li>
</ul>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9cfts3rjkrsqm8buxyZ <span class="keyword">shell</span><span class="bash">]<span class="comment"># printf hello</span></span></span><br><span class="line"><span class="bash">hello[root@iZwz9cfts3rjkrsqm8buxyZ shell]<span class="comment"># printf 'hello'</span></span></span><br><span class="line"><span class="bash">hello[root@iZwz9cfts3rjkrsqm8buxyZ shell]<span class="comment"># printf "hello"</span></span></span><br><span class="line"><span class="bash">hello[root@iZwz9cfts3rjkrsqm8buxyZ shell]<span class="comment"># printf "hello\n"</span></span></span><br><span class="line"><span class="bash">hello</span></span><br></pre></td></tr></table></figure>
<h3 id="基本IO重定向"><a href="#基本IO重定向" class="headerlink" title="基本IO重定向"></a>基本IO重定向</h3><ul>
<li>以&lt;(小于符号)表示标准的输入</li>
</ul>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输出test-variable的内容</span></span><br><span class="line">[root@iZwz9cfts3rjkrsqm8buxyZ <span class="keyword">shell</span><span class="bash">]<span class="comment"># tr -d '\r' &lt; test-variable </span></span></span><br><span class="line"><span class="bash"><span class="built_in">echo</span></span></span><br><span class="line"><span class="bash">echo1</span></span><br></pre></td></tr></table></figure>
<ul>
<li><p>以&gt;(大于符号)表示标准的输出，完全覆盖输出</p>
</li>
<li><p>以&gt;&gt;表示标准的附加</p>
</li>
</ul>
<h3 id="基本查找命令"><a href="#基本查找命令" class="headerlink" title="基本查找命令"></a>基本查找命令</h3><p>shell会依照$PATH路径来寻找命令。$PATH是一个以冒号分隔的目录列表</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9cfts3rjkrsqm8buxyZ shell]<span class="comment"># echo $PATH</span></span><br><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/sbin:/u</span>sr<span class="regexp">/local/</span>bin:<span class="regexp">/usr/</span>sbin:<span class="regexp">/usr/</span>bin:<span class="regexp">/root/</span>bin</span><br></pre></td></tr></table></figure>
<p>若果要编写自己的脚本，想要被执行，最好时准备自己的bin目录，并且让shell能过自动识别他们，建立自己的Bin目录，并加入到$PATH中。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9cfts3rjkrsqm8buxyZ opt]# <span class="attribute">PATH</span>=<span class="variable">$PATH</span>:/opt/bin</span><br></pre></td></tr></table></figure>
<h3 id="简单的执行跟踪-sh-x"><a href="#简单的执行跟踪-sh-x" class="headerlink" title="简单的执行跟踪(sh -x)"></a>简单的执行跟踪(sh -x)</h3><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@iZwz9cfts3rjkrsqm8buxyZ opt]<span class="comment"># sh -x hello</span></span><br><span class="line">+ echo <span class="regexp">/usr/</span>local<span class="regexp">/sbin:/u</span>sr<span class="regexp">/local/</span>bin:<span class="regexp">/usr/</span>sbin:<span class="regexp">/usr/</span>bin:<span class="regexp">/root/</span>bin</span><br><span class="line"><span class="regexp">/usr/</span>local<span class="regexp">/sbin:/u</span>sr<span class="regexp">/local/</span>bin:<span class="regexp">/usr/</span>sbin:<span class="regexp">/usr/</span>bin:<span class="regexp">/root/</span>bin</span><br></pre></td></tr></table></figure>
<h2 id="查找与替换"><a href="#查找与替换" class="headerlink" title="查找与替换"></a>查找与替换</h2><h3 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h3><figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 一直查看日志，需要使用ctrl+c来中断额</span><br><span class="line">tail -<span class="built_in">n</span> <span class="number">25</span> -f /<span class="built_in">var</span>/<span class="built_in">log</span>/message</span><br></pre></td></tr></table></figure>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a class="article-share-link" data-url="http://chilam.me/2017/06/29/shell-script/" data-id="cjja2lv300089ewdamwahdphn" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK4AAACuCAAAAACKZ2kyAAABxklEQVR42u3aS44DIQwFwNz/0pntSDNNP5tPR1GxahEFio2FbV6veLx/jb/zyfd4ZvHAxcWd5r6HY7zl+Lt3pCsDLi7uee5VxEiWLm8ZHPJyHhcX9yO5+TVlvDIuLu43cZNLTG8GFxf307hJ8jNeKLnQHM3VcHFxJ7h5lXLf95b6Li4ubov7Lo7qkfLQFu2Oi4t7hJsHlPnD9AIZLi7uU9wcV22rVAupeRDExcXdxx0/t+olM6vaJzc3Mlxc3G3c+e2T60g1vbk5GC4u7mbuDKj3OCNf8591cHFxj3ATRK+sWW3ZFkonuLi4m7nVUJXPz4TCy+sOLi7uEe6qUml+ram2XW8CHy4u7gZufilJLj3V0FYukeDi4h7hrmqpVgsiUac3z9VwcXG3catJS4+e/Kv8jgwXF3czNy+F5OFpphTb7Anj4uIu5VYfWfbSp95euLi4Z7jzDdRy8yN+eIGLi/sUNx+r0phqoaR5GFxc3GluNf0YbzP/pOPmV1xc3IPcJLHJmyXzV58FeRguLu5Bbh62kuNV2zO4uLifyU0aq9VnFoXQhouLe5Bbfjo50UzNkx9cXNynuOVQEs/3nlz0UiZcXNxF3B9JFZCfzcnstgAAAABJRU5ErkJggg==">Aktie</a><div class="tags"><a href="/tags/linux/">linux</a></div><div class="post-nav"><a class="pre" href="/2017/06/30/python-unittest/">python单元测试unittest</a><a class="next" href="/2017/06/26/mysql-2/">3.mysql-sql</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var gitment = new Gitment({
  owner: 'CasperMXP',
  repo: 'CasperMXP.github.io',
  oauth: {
    client_id: '2cf162fa015e397bb3c9',
    client_secret: '9c97449f4ec96ac4a1064e819e92fde840e66ec7',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><div class="search-form"><input id="local-search-input" placeholder="Search" type="text" name="q" results="0"/><div id="local-search-result"></div></div></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Kategorien</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/1房2人3餐4季/">1房2人3餐4季</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/搬砖/">搬砖</a><span class="category-list-count">86</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/tags/life/" style="font-size: 15px;">life</a> <a href="/tags/cache/" style="font-size: 15px;">cache</a> <a href="/tags/design-pattern/" style="font-size: 15px;">design-pattern</a> <a href="/tags/docker/" style="font-size: 15px;">docker</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/hibernate/" style="font-size: 15px;">hibernate</a> <a href="/tags/Hystrix/" style="font-size: 15px;">Hystrix</a> <a href="/tags/ibatis/" style="font-size: 15px;">ibatis</a> <a href="/tags/idea/" style="font-size: 15px;">idea</a> <a href="/tags/spring/" style="font-size: 15px;">spring</a> <a href="/tags/test/" style="font-size: 15px;">test</a> <a href="/tags/javaweb/" style="font-size: 15px;">javaweb</a> <a href="/tags/jmm/" style="font-size: 15px;">jmm</a> <a href="/tags/jvm/" style="font-size: 15px;">jvm</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/links/" style="font-size: 15px;">links</a> <a href="/tags/linux/" style="font-size: 15px;">linux</a> <a href="/tags/python/" style="font-size: 15px;">python</a> <a href="/tags/logback/" style="font-size: 15px;">logback</a> <a href="/tags/markdown/" style="font-size: 15px;">markdown</a> <a href="/tags/maths/" style="font-size: 15px;">maths</a> <a href="/tags/maven/" style="font-size: 15px;">maven</a> <a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/nginx/" style="font-size: 15px;">nginx</a> <a href="/tags/node/" style="font-size: 15px;">node</a> <a href="/tags/spring-boot/" style="font-size: 15px;">spring-boot</a> <a href="/tags/sublime/" style="font-size: 15px;">sublime</a> <a href="/tags/javaee/" style="font-size: 15px;">javaee</a> <a href="/tags/weblogic/" style="font-size: 15px;">weblogic</a> <a href="/tags/win10/" style="font-size: 15px;">win10</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Letzte</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/07/02/poem-3/">傲红尘</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/20/interview-2/">2.面试准备-框架</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/17/links/">1.收藏的一些链接</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/16/life-dinner-noodle/">黑胡椒意面</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/14/interview-1/">1.面试准备-Java</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/04/docker/">1.学习笔记-docker基本概念</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/17/spring-boot-8/">8.sb-原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/17/spring-boot-7/">7.sb-jdbcTemplate</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/17/spring-boot-6/">6.sb-DevTools</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/17/spring-boot-5/">5.sb-Swagger</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">CHILAM.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.3.5/jquery.fancybox.min.css"><script type="text/javascript" src="/js/search.js?v=0.0.0"></script><script>var search_path = 'search.xml';
if (search_path.length == 0) {
   search_path = 'search.xml';
}
var path = '/' + search_path;
searchFunc(path, 'local-search-input', 'local-search-result');
</script><script type="text/javascript" color="100,99,98" opacity="0.7" zIndex="-1" count="30" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>